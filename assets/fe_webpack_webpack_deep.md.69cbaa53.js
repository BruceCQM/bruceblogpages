import{_ as l,o as e,c as p,b as s,d as n,a}from"./app.fb5335e3.js";const c="/bruceblogpages/assets/split-chunks.4ff0562f.png",o="/bruceblogpages/assets/module-chunk-bundle.913ac91a.png",t="/bruceblogpages/assets/chunkId.474c3b94.png",L=JSON.parse('{"title":"webpack æ·±å…¥å­¦ä¹ ","description":"","frontmatter":{},"headers":[{"level":2,"title":"webpack ä¸å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ä¸åŒ","slug":"webpack-ä¸å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ä¸åŒ","link":"#webpack-ä¸å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ä¸åŒ","children":[]},{"level":2,"title":"webapck å·¥ä½œåŸç†","slug":"webapck-å·¥ä½œåŸç†","link":"#webapck-å·¥ä½œåŸç†","children":[]},{"level":2,"title":"chunk","slug":"chunk","link":"#chunk","children":[{"level":3,"title":"entry ç”Ÿæˆ chunk","slug":"entry-ç”Ÿæˆ-chunk","link":"#entry-ç”Ÿæˆ-chunk","children":[]},{"level":3,"title":"æŒ‰éœ€åŠ è½½ï¼ˆå¼‚æ­¥ï¼‰äº§ç”Ÿçš„ chunk","slug":"æŒ‰éœ€åŠ è½½-å¼‚æ­¥-äº§ç”Ÿçš„-chunk","link":"#æŒ‰éœ€åŠ è½½-å¼‚æ­¥-äº§ç”Ÿçš„-chunk","children":[]},{"level":3,"title":"ä»£ç åˆ†å‰²äº§ç”Ÿçš„ chunk","slug":"ä»£ç åˆ†å‰²äº§ç”Ÿçš„-chunk","link":"#ä»£ç åˆ†å‰²äº§ç”Ÿçš„-chunk","children":[]}]},{"level":2,"title":"bundle","slug":"bundle","link":"#bundle","children":[]},{"level":2,"title":"chunk å’Œ bundle çš„åŒºåˆ«","slug":"chunk-å’Œ-bundle-çš„åŒºåˆ«","link":"#chunk-å’Œ-bundle-çš„åŒºåˆ«","children":[]},{"level":2,"title":"filename & chunkFilename","slug":"filename-chunkfilename","link":"#filename-chunkfilename","children":[]},{"level":2,"title":"å‘½å(hash)","slug":"å‘½å-hash","link":"#å‘½å-hash","children":[]},{"level":2,"title":"chunkId","slug":"chunkid","link":"#chunkid","children":[]},{"level":2,"title":"manifest","slug":"manifest","link":"#manifest","children":[]}],"relativePath":"fe/webpack/webpack_deep.md","lastUpdated":1720496202000}'),r={name:"fe/webpack/webpack_deep.md"},i=s("h1",{id:"webpack-æ·±å…¥å­¦ä¹ ",tabindex:"-1"},[n("webpack æ·±å…¥å­¦ä¹  "),s("a",{class:"header-anchor",href:"#webpack-æ·±å…¥å­¦ä¹ ","aria-hidden":"true"},"#")],-1),u=s("h2",{id:"webpack-ä¸å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ä¸åŒ",tabindex:"-1"},[n("webpack ä¸å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ä¸åŒ "),s("a",{class:"header-anchor",href:"#webpack-ä¸å…¶å®ƒæ‰“åŒ…å·¥å…·çš„ä¸åŒ","aria-hidden":"true"},"#")],-1),h=s("p",null,"åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ JavaScript æœ‰ä¸¤ç§æ–¹æ³•ã€‚",-1),D=s("p",null,"ç¬¬ä¸€ç§æ–¹å¼ï¼Œå¼•ç”¨ä¸€äº›è„šæœ¬æ¥å­˜æ”¾æ¯ä¸ªåŠŸèƒ½ã€‚è¿™ç§æ–¹æ¡ˆå¾ˆéš¾æ‰©å±•ï¼Œå› ä¸ºåŠ è½½å¤ªå¤šè„šæœ¬ä¼šå¯¼è‡´ç½‘ç»œç“¶é¢ˆã€‚",-1),d=s("p",null,"ç¬¬äºŒç§æ–¹å¼ï¼Œä½¿ç”¨ä¸€ä¸ªåŒ…å«æ‰€æœ‰é¡¹ç›®ä»£ç çš„å¤§å‹ js æ–‡ä»¶ï¼Œä½†è¿™ä¼šå¯¼è‡´ä½œç”¨åŸŸã€æ–‡ä»¶å¤§å°ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ–¹é¢çš„é—®é¢˜ã€‚",-1),y=s("p",null,"ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰çš„å‡ºç°è§£å†³äº†å¤§å‹é¡¹ç›®çš„ä½œç”¨åŸŸé—®é¢˜ã€‚å½“è„šæœ¬æ–‡ä»¶è¢«å°è£…åœ¨ IIFE å†…éƒ¨æ—¶ï¼Œå¯ä»¥å®‰å…¨åœ°æ‹¼æ¥æˆ–å®‰å…¨åœ°ç»„åˆæ‰€æœ‰æ–‡ä»¶ï¼Œè€Œä¸å¿…æ‹…å¿ƒä½œç”¨åŸŸå†²çªã€‚å› æ­¤è¯ç”Ÿäº†ä¸€æ‰¹ Gulpã€Grunt ç­‰ä»»åŠ¡æ‰§è¡Œå™¨ã€‚",-1),F=s("p",null,"ä½†æ˜¯è¿™æ ·ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æ„å‘³ç€å¿…é¡»é‡æ–°æ„å»ºæ•´ä¸ªæ–‡ä»¶ï¼Œæ‹¼æ¥å¯ä»¥åšåˆ°å®¹æ˜“åœ°è·¨æ–‡ä»¶é‡ç”¨è„šæœ¬ï¼Œä½†å´ä½¿æ„å»ºç»“æœçš„ä¼˜åŒ–å˜å¾—æ›´åŠ å›°éš¾ã€‚å¦‚ä½•åˆ¤æ–­ä»£ç æ˜¯å¦å®é™…è¢«ä½¿ç”¨ï¼Ÿå³ä½¿ä½ åªç”¨åˆ° loadash ä¸­çš„æŸä¸ªå‡½æ•°ï¼Œä¹Ÿå¿…é¡»åœ¨æ„å»ºç»“æœä¸­åŠ å…¥æ•´ä¸ªåº“ï¼Œæ¥ç€å°†å®ƒä»¬å‹ç¼©åˆ°ä¸€èµ·ã€‚å¦‚ä½• treeshake ä»£ç ä¾èµ–ï¼Ÿéš¾ä»¥å¤§è§„æ¨¡åœ°å®ç°å»¶è¿ŸåŠ è½½ä»£ç å—ï¼Œè¿™éœ€è¦å¼€å‘äººå‘˜æ‰‹åŠ¨åœ°è¿›è¡Œå¤§é‡å·¥ä½œã€‚",-1),b=s("p",null,[s("a",{href:"https://webpack.docschina.org/concepts/why-webpack/",link:"card",target:"_blank",rel:"noreferrer"},"ä¸ºä»€ä¹ˆé€‰æ‹©webpack")],-1),k=a(`<h2 id="webapck-å·¥ä½œåŸç†" tabindex="-1">webapck å·¥ä½œåŸç† <a class="header-anchor" href="#webapck-å·¥ä½œåŸç†" aria-hidden="true">#</a></h2><p>é€šè¿‡ <code>fs.readFileSync</code> è¯»å–å…¥å£æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ <code>@bable/parser</code> è·å– ast æŠ½è±¡è¯­æ³•æ ‘ï¼Œå€ŸåŠ© <code>@babel/core</code> å’Œ <code>@babel/preset-env</code>ï¼ŒæŠŠ ast è¯­æ³•æ ‘è½¬æ¢æˆåˆé€‚çš„ä»£ç ï¼Œæœ€åè¾“å‡ºä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ã€‚</p><p>å®ƒä¼šä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä½œä¸ºæ‰“åŒ…çš„å…¥å£ï¼Œåœ¨ webpack å¤„ç†ä¸åŒæ¨¡å—ä¾èµ–æ—¶ï¼Œä¼šå°†ä»£ç åˆ†å‰²æˆå¤šä¸ª chunkï¼Œæ¯ä¸ª chunk åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—ï¼Œæœ€åå°†æ•´ä¸ªé¡¹ç›®æ‰€æœ‰æ–‡ä»¶ç¼–è¯‘ç»„åˆæˆä¸€ä¸ªæˆ–å¤šä¸ª bundle è¾“å‡ºå‡ºå»ã€‚</p><p>ä¸€ä¸ª bundle å¯ä»¥åŒ…å«å¤šä¸ª chunkï¼Œä¹Ÿå¯ä»¥åªåŒ…å«ä¸€ä¸ª chunkã€‚</p><h2 id="chunk" tabindex="-1">chunk <a class="header-anchor" href="#chunk" aria-hidden="true">#</a></h2><p>chunk ä»£ç å—ï¼Œæ˜¯ webpack æ ¹æ®åŠŸèƒ½æ‹†åˆ†å‡ºæ¥çš„ã€‚webpack åœ¨å¤„ç†æ¨¡å—ä¾èµ–å…³ç³»æ—¶ï¼Œä¼šå°†ä»£ç åˆ†å‰²æˆå¤šä¸ª chunkï¼Œæ¯ä¸ª chunk åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—ã€‚</p><p>chunk çš„ç”Ÿæˆæ˜¯ç”± webpack çš„ä»£ç åˆ†å‰²åŠŸèƒ½å®ç°çš„ï¼Œå¯ä»¥æ‰‹åŠ¨é…ç½®æˆ–è‡ªåŠ¨åˆ†å‰²ã€‚chunk æ˜¯ webpack çš„å†…éƒ¨æ¦‚å¿µï¼Œä¸ä¼šç›´æ¥è¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œwebpack ä¼šåœ¨ dist è¾“å‡º chunk ç”Ÿæˆçš„ bundleï¼Œæ–‡ä»¶åå°±æ˜¯ chunk åç§°ã€‚è¯¥åç§°æœ€ç»ˆä¼šä½“ç°åœ¨ bundle çš„å‘½åä¸Šï¼Œæœ€ç»ˆéšç€ bundle è¾“å‡ºã€‚</p><h3 id="entry-ç”Ÿæˆ-chunk" tabindex="-1">entry ç”Ÿæˆ chunk <a class="header-anchor" href="#entry-ç”Ÿæˆ-chunk" aria-hidden="true">#</a></h3><p>output.filename é…ç½®è¾“å‡º chunk åå­—ã€‚</p><h3 id="æŒ‰éœ€åŠ è½½-å¼‚æ­¥-äº§ç”Ÿçš„-chunk" tabindex="-1">æŒ‰éœ€åŠ è½½ï¼ˆå¼‚æ­¥ï¼‰äº§ç”Ÿçš„ chunk <a class="header-anchor" href="#æŒ‰éœ€åŠ è½½-å¼‚æ­¥-äº§ç”Ÿçš„-chunk" aria-hidden="true">#</a></h3><p>æŒ‰éœ€åŠ è½½ï¼ˆå¼‚æ­¥ï¼‰çš„æ¨¡å—ä¹Ÿä¼šäº§ç”Ÿ chunkï¼Œè¿™ä¸ª chunk åç§°å¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨ webpackChunkName è‡ªè¡Œå®šä¹‰ã€‚</p><p>å¦‚æœéœ€è¦æ‰“åŒ…æ—¶ä½¿ç”¨ chunk åç§°ï¼Œåˆ™éœ€è¦åœ¨ output.chunkFilename ä¸­å¼•ç”¨ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">chunkFilename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[name].js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">import</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;font-style:italic;">/* webpackChunkName: &quot;async-model&quot; */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./async-model</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ä»£ç åˆ†å‰²äº§ç”Ÿçš„-chunk" tabindex="-1">ä»£ç åˆ†å‰²äº§ç”Ÿçš„ chunk <a class="header-anchor" href="#ä»£ç åˆ†å‰²äº§ç”Ÿçš„-chunk" aria-hidden="true">#</a></h3><p>åœ¨ webpack5 ä¸­ä»£ç åˆ†å‰²ä½¿ç”¨ SplitChunkPlugin æ’ä»¶å®ç°ï¼Œè¿™ä¸ªæ’ä»¶å†…ç½®åœ¨ webpack ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥ç”¨é…ç½®çš„æ–¹å¼å³å¯ã€‚</p><p>ä»£ç åˆ†å‰²æ—¶ä¹Ÿä¼šäº§ç”Ÿ chunkã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// webpack.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">index2</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index2.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">index3</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index3.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å–å€¼ &#39;multiple&#39; æˆ– true éƒ½å¯ï¼Œæ ¹æ®å…¥å£äº§ç”Ÿå¤šä¸ªè¿è¡Œæ—¶chunk</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">runtimeChunk</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">multiple</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">splitChunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">chunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cacheGroups</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">vendor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vendor</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">priority</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">reuseExistingChunk</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">common</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">minSize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">minChunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">priority</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">reuseExistingChunk</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// index.js</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ğŸ¥¬  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">111</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// index2.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./index</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> $ </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jquery</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ğŸ¥¬ 222 </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> $)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// index3.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./index</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ğŸ¥¬ 333 </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>ä¸Šè¿°ä»£ç ï¼Œæ€»å…±ä¼šäº§ç”Ÿ 6 ä¸ªchunkã€‚</p><ul><li><p>ä¸¤ä¸ªå…¥å£åˆ†åˆ«åˆ†é…åˆ°åç§°ä¸º index2 å’Œ index3 çš„ chunk ä¸­ã€‚</p></li><li><p><code>runtimeChunk: &#39;multiple&#39;</code> çš„å‡æ˜ï¼Œä¼šæŠ½ç¦» webpack è¿è¡Œæ—¶ä»£ç åˆ°å•ç‹¬çš„ chunk ä¸­ã€‚æœ‰ä¸¤ä¸ªå…¥å£ï¼Œå› æ­¤æœ‰ä¸¤ä»½è¿è¡Œæ—¶ chunkã€‚</p></li><li><p>jquery ç¬¦åˆ cacheGroups.vendor è§„åˆ™ï¼ŒæŠ½ç¦»åˆ°åä¸º vendor çš„ chunk ä¸­ã€‚</p></li><li><p>index.js ç¬¦åˆ cacheGroups.common è§„åˆ™ï¼ŒæŠ½ç¦»åˆ°åä¸º common çš„ chunk ä¸­ã€‚</p></li></ul><p><img src="`+c+'" alt="ä»£ç åˆ†å‰²äº§ç”Ÿchunk"></p><h2 id="bundle" tabindex="-1">bundle <a class="header-anchor" href="#bundle" aria-hidden="true">#</a></h2><p>bundle æ˜¯ webpack è¾“å‡ºçš„æœ€ç»ˆæ–‡ä»¶ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„ä»£ç å’Œä¾èµ–ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p><p>bundle å°±æ˜¯æœ€ç»ˆè¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªçš„æ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸€ä¸ª chunk è‡³å°‘ä¼šäº§ç”Ÿä¸€ä¸ª bundleï¼Œä½†ä¸å®Œå…¨æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬åœ¨æ¨¡å—ä¸­å¼•ç”¨å›¾ç‰‡ï¼Œåˆç»è¿‡ url-loader æ‰“åŒ…åˆ°å¤–éƒ¨ï¼›æˆ–è€…æ˜¯å¼•ç”¨äº†æ ·å¼ï¼Œé€šè¿‡ extract-text-webpack-plugin æŠ½ç¦»å‡ºæ¥ï¼Œè¿™æ ·ä¸€ä¸ª chunk å°±ä¼šå‡ºç°äº§ç”Ÿå¤šä¸ª bundle çš„æƒ…å†µã€‚</p><p>åœ¨ webpack ä¸­ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ¥æ§åˆ¶ bundle çš„æ•°é‡å’Œå¤§å°ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œbundle æ˜¯ chunk åœ¨æ„å»ºå®Œæˆçš„å‘ˆç°ã€‚</p><h2 id="chunk-å’Œ-bundle-çš„åŒºåˆ«" tabindex="-1">chunk å’Œ bundle çš„åŒºåˆ« <a class="header-anchor" href="#chunk-å’Œ-bundle-çš„åŒºåˆ«" aria-hidden="true">#</a></h2><p>ç®€å•æ¥è¯´ï¼Œchunk æ˜¯ webpack åœ¨å¤„ç†æ¨¡å—ä¾èµ–å…³ç³»æ—¶äº§ç”Ÿçš„ä¸­é—´æ–‡ä»¶ï¼Œè€Œ bundle åˆ™æ˜¯æœ€ç»ˆçš„è¾“å‡ºæ–‡ä»¶ã€‚chunk æ˜¯ webpack å†…éƒ¨çš„æ¦‚å¿µï¼Œä¸ä¼šç›´æ¥è¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè€Œ bundle åˆ™æ˜¯ webpack è¾“å‡ºçš„æœ€ç»ˆæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>moduleã€chunkã€bundle å…¶å®å°±æ˜¯åŒä¸€ä»½ä»£ç ï¼Œåœ¨ä¸åŒè½¬æ¢åœºæ™¯ä¸‹çš„ä¸‰ä¸ªåç§°ã€‚</p><p>æˆ‘ä»¬ç›´æ¥å†™å‡ºæ¥çš„æ˜¯ moduleï¼Œwebpack å¤„ç†æ—¶æ˜¯ chunkï¼Œæœ€åç”Ÿæˆçš„æµè§ˆå™¨å¯ç›´æ¥è¿è¡Œçš„æ˜¯ bundleã€‚</p></div><p><img src="'+o+'" alt="moduleã€chunkå’Œbundleçš„åŒºåˆ«"></p><p>index.css å’Œ common.js åœ¨ index.js ä¸­è¢«å¼•â¼Šï¼Œæ‰“åŒ…â½£æˆçš„ index.bundle.css å’Œn index.bundle.js éƒ½å±äº chunk 0ï¼Œutils.js å› ä¸ºæ˜¯ç‹¬â½´æ‰“åŒ…çš„ï¼Œå®ƒâ½£æˆçš„ utils.bundle.js å±äº chunk 1ã€‚</p><p>â¼€èˆ¬æ¥è¯´â¼€ä¸ª chunk å¯¹åº”â¼€ä¸ª bundleï¼Œâ½å¦‚ä¸Šå›¾ä¸­çš„ utils.js -&gt; chunks 1 -&gt; utils.bundle.jsï¼›ä½†ä¹Ÿæœ‰ä¾‹å¤–ï¼Œâ½å¦‚è¯´ä¸Šå›¾ä¸­ï¼Œå°±â½¤ MiniCssExtractPlugin ä» chunks 0 ä¸­æŠ½ç¦»å‡ºäº† index.bundle.css â½‚ä»¶ã€‚</p>',33),C=s("p",null,[s("a",{href:"https://juejin.cn/post/7005530386641977374",link:"card",target:"_blank",rel:"noreferrer"},"webpack ä¸­moduleã€chunk ã€bundle çš„åŒºåˆ«")],-1),A=s("p",null,[s("a",{href:"https://blog.csdn.net/qq_17175013/article/details/119753186",link:"card",target:"_blank",rel:"noreferrer"},"webpackâ€”â€”moduleã€chunkå’Œbundleçš„åŒºåˆ«")],-1),m=s("h2",{id:"filename-chunkfilename",tabindex:"-1"},[n("filename & chunkFilename "),s("a",{class:"header-anchor",href:"#filename-chunkfilename","aria-hidden":"true"},"#")],-1),_=s("p",null,"é€šè¿‡ output çš„ filename å’Œ chunkFilename æ§åˆ¶ chunk è¾“å‡ºçš„ bundle å‘½åã€‚",-1),f=s("p",null,[s("a",{href:"https://juejin.cn/post/6844904166150651917",link:"card",target:"_blank",rel:"noreferrer"},"outputä¸­chunkFilenameå’Œfilenameçš„åŒºåˆ«")],-1),g=s("p",null,"MiniCssExtractPlugin ä¹ŸåŒæ ·æœ‰è¿™äº›å­—æ®µï¼š",-1),w=s("p",null,[s("a",{href:"https://github.com/VenenoFSD/Learn-Webpack4/issues/17",link:"card",target:"_blank",rel:"noreferrer"},"Webpack - css æ–‡ä»¶çš„ä»£ç åˆ†å‰²")],-1),x=s("h2",{id:"å‘½å-hash",tabindex:"-1"},[n("å‘½å(hash) "),s("a",{class:"header-anchor",href:"#å‘½å-hash","aria-hidden":"true"},"#")],-1),j=s("p",null,"webpack æ–‡ä»¶æ‰“åŒ…ä¸€èˆ¬æœ‰ä¸‰ç§ hashï¼šhashã€chunkhashã€contenthashã€‚",-1),v=s("ul",null,[s("li",null,[s("p",null,"hash æ˜¯é¡¹ç›®çº§åˆ«çš„ï¼Œä½¿ç”¨ hash çš„ç¼ºç‚¹æ˜¯ï¼ŒåŠ å…¥åªä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶åé‡Œçš„ hash éƒ½æ˜¯ç›¸åŒçš„ã€‚")]),s("li",null,[s("p",null,"chunkhash æ ¹æ®ä¸åŒçš„å…¥å£æ–‡ä»¶(entry)è¿›è¡Œä¾èµ–æ–‡ä»¶è§£æï¼Œæ„å»ºå¯¹åº”çš„ chunkï¼Œç”Ÿæˆå¯¹åº”çš„å“ˆå¸Œå€¼ã€‚")]),s("li",null,[s("p",null,"contenthash æ˜¯é’ˆå¯¹æ–‡ä»¶å†…å®¹çº§åˆ«çš„ï¼Œåªæœ‰è‡ªå·±æ¨¡å—çš„å†…å®¹æ”¹å˜ï¼Œå“ˆå¸Œå€¼æ‰ä¼šæ”¹å˜ã€‚")])],-1),E=s("p",null,[s("a",{href:"https://juejin.cn/post/6844903942384517127",link:"card",target:"_blank",rel:"noreferrer"},"ä»æºç çœ‹webpackçš„hashç­–ç•¥")],-1),I=s("p",null,[s("a",{href:"https://juejin.cn/post/7078589390422802440",link:"card",target:"_blank",rel:"noreferrer"},"webpackä¸­æ–‡ä»¶æ‰“åŒ… hashã€chunkhashã€contenthash çš„åŒºåˆ«")],-1),S=a('<p>å¯ä»¥ä½¿ç”¨ webpack æä¾›çš„æ¨¡æ¿å­—ç¬¦ä¸²å®šä¹‰ bundle æ–‡ä»¶åï¼Œä¸‹é¢æ˜¯å¸¸ç”¨çš„æ¨¡æ¿å­—ç¬¦ä¸²ã€‚</p><table><thead><tr><th>æ¨¡æ¿</th><th>æè¿°</th><th>ç¨³å®šæ€§</th></tr></thead><tbody><tr><td>[name]</td><td>chunk çš„åç§°</td><td>åªè¦chunkåç§°ä¸ä¿®æ”¹å°±ä¸ä¼šå˜åŒ–</td></tr><tr><td>[hash]</td><td>æ ¹æ®æ‰€æœ‰ chunk ç”Ÿæˆçš„ hash</td><td>å·¥ç¨‹æŸä¸ªchunkè¢«ä¿®æ”¹å°±ä¼šå¼•èµ·å˜åŒ–</td></tr><tr><td>[chunkhash]</td><td>æ ¹æ®chunkç”Ÿæˆçš„hashå€¼</td><td>æŸä¸ªchunkè¢«ä¿®æ”¹ï¼Œåªä¼šå¼•èµ·è¢«ä¿®æ”¹çš„chunkçš„hash</td></tr><tr><td>[contenthash]</td><td>æ ¹æ®bundleå†…å®¹ç”Ÿæˆçš„hash</td><td>chunkä¸­æŸä¸ªbundleè¢«ä¿®æ”¹ï¼Œåªä¼šå¼•èµ·è¢«ä¿®æ”¹çš„bundleçš„hash</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">æ³¨æ„äº‹é¡¹</p><ol><li>JS æ–‡ä»¶çš„æŒ‡çº¹è®¾ç½® <code>&#39;[name][chunkhash:8].js&#39;</code>ã€‚</li></ol><p>JS æ–‡ä»¶ä¸ºä»€ä¹ˆä¸ç”¨ contenthashï¼Ÿ</p><p>å› ä¸º JS å¼•å…¥äº† css æ¨¡å—ï¼Œè‹¥ css æ”¹å˜ï¼Œcss ä½¿ç”¨çš„æ˜¯ contenthashï¼Œé‚£ä¹ˆ css çš„æŒ‡çº¹å˜äº†ã€‚ä½†å¯¹äºå¼•å…¥ css çš„ JS æ¨¡å—æ¥è¯´ï¼Œå®ƒçš„å†…å®¹æ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„ã€‚</p><p>å› æ­¤å¦‚æœ js æ–‡ä»¶ä½¿ç”¨ contenthashï¼Œåˆ™ js æ¨¡å—çš„æŒ‡çº¹ä¸å˜ï¼Œå¯¼è‡´ js æ— æ³•å¼•å…¥æ›´æ–°åçš„ css æ–‡ä»¶ã€‚</p><ol start="2"><li>css æ–‡ä»¶çš„æŒ‡çº¹è®¾ç½® <code>&#39;[name][contenthash:8].css&#39;</code>ã€‚</li></ol><p>css æ–‡ä»¶ä¸ºä»€ä¹ˆä¸ç”¨ chunkhashï¼Ÿ</p><p>js ä½¿ç”¨çš„æ˜¯ chunkhashï¼Œå¦‚æœ js æ¨¡å—å‘ç”Ÿæ”¹å˜ï¼Œåˆ™ chunkhash ä¹Ÿä¼šæ”¹å˜ï¼Œå¯¼è‡´å®ƒå¼•å…¥çš„ css æ¨¡å—çš„ chunkhash ä¹Ÿè·Ÿç€æ”¹å˜ã€‚</p><p>ä½†è¿™æ˜¯ä¸åˆç†çš„ï¼Œå› ä¸º css æ–‡ä»¶æœ¬èº«çš„å†…å®¹å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ã€‚</p><p>å› æ­¤ css ä½¿ç”¨ contenthashï¼Œåªä¸å…¶è‡ªèº«å†…å®¹æœ‰å…³ï¼Œæ— è§†è¢«å“ªä¸ª js æ¨¡å—å¼•ç”¨ã€‚</p><ol start="3"><li>Images/Fonts çš„æŒ‡çº¹è®¾ç½® <code>&#39;[name][hash:8].[ext]&#39;</code>ã€‚</li></ol><p>æ³¨æ„ï¼Œå›¾ç‰‡å­—ä½“çš„ hashï¼Œå’Œ cssã€js çš„ hash æ¦‚å¿µä¸åŒï¼Œæ˜¯æŒ‰å†…å®¹ç”Ÿæˆçš„ï¼Œä¸æ˜¯æŒ‰ç¼–è¯‘ç”Ÿæˆçš„ã€‚</p></div><h2 id="chunkid" tabindex="-1">chunkId <a class="header-anchor" href="#chunkid" aria-hidden="true">#</a></h2><p>webpack åœ¨éšç€ chunk ç”Ÿæˆ bundle æ—¶ï¼Œä¼šè¾“å‡ºä¸€ä¸ª chunkIdã€‚</p><p><img src="'+t+`" alt="chunkId"></p><p>ç”Ÿäº§ç¯å¢ƒä¸‹ chunkId æ˜¯ä»¥è‡ªå¢çš„æ•°å­—å‘½åï¼Œå› æ­¤å¢åŠ  chunk æˆ–å‡å°‘ chunk æ—¶ï¼Œä¼šå¯¼è‡´é¡ºåºä¹±æ‰ã€‚</p><p>chunkId å˜äº†ï¼Œé‚£ä¹ˆå¼•ç”¨åˆ°è¯¥ chunkId çš„æ–‡ä»¶å†…å®¹ä¹Ÿå˜äº†ï¼Œå¯¼è‡´ç¼“å­˜å¤±æ•ˆã€‚å› æ­¤æˆ‘ä»¬è¦å›ºå®š chunkIdã€‚</p><p>chunkId ç”Ÿæˆç­–ç•¥ï¼š</p><ul><li><p>falseï¼šä¸ä½¿ç”¨ä»»ä½•ç®—æ³•ï¼Œé€šè¿‡æ’ä»¶æä¾›è‡ªå®šä¹‰ç®—æ³•ã€‚</p></li><li><p>naturalï¼šè‡ªç„¶æ•° IDã€‚</p></li><li><p>namedï¼šä½¿ç”¨ name å€¼ä½œä¸º IDï¼Œå¯è¯»æ€§é«˜ã€‚</p></li><li><p>sizeï¼šæ•°å­— IDï¼Œä¾æ®æœ€å°çš„åˆå§‹ä¸‹è½½å¤§å°ã€‚</p></li><li><p>total-sizeï¼šæ•°å­— IDï¼Œä¾æ®æœ€å°çš„æ€»ä¸‹è½½å¤§å°ã€‚</p></li><li><p>deterministic: åœ¨ä¸åŒçš„ç¼–è¯‘ä¸­ä¸å˜çš„çŸ­æ•°å­— IDã€‚æœ‰åˆ©äºé•¿æœŸç¼“å­˜ï¼Œç”Ÿäº§æ¨¡å¼é»˜è®¤å¼€å¯ã€‚</p></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">optimization</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">chunkIds</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">deterministic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,11),q=s("p",null,[s("a",{href:"https://juejin.cn/post/6844903924818771981",link:"card",target:"_blank",rel:"noreferrer"},"æ·±å…¥ç†è§£webpackçš„chunkIdå¯¹çº¿ä¸Šç¼“å­˜çš„æ€è€ƒ")],-1),T=s("h2",{id:"manifest",tabindex:"-1"},[n("manifest "),s("a",{class:"header-anchor",href:"#manifest","aria-hidden":"true"},"#")],-1),P=s("p",null,"webpack manifest æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå®ƒç”¨äºè®°å½• webpack ç¼–è¯‘åçš„æ‰€æœ‰èµ„äº§ï¼ˆåŒ…æ‹¬ JavaScriptã€cssã€å›¾åƒç­‰ï¼‰çš„æ˜ å°„å…³ç³»ã€‚è¿™ä¸ªæ˜ å°„å…³ç³»å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ä»£ç ä¸­æ›´æ–¹ä¾¿åœ°å¼•ç”¨è¿™äº›èµ„äº§ï¼Œå¹¶ä¸”åœ¨æ›´æ–°èµ„äº§æ—¶ï¼Œä¸ç”¨æ‹…å¿ƒå› ä¸ºå¼•ç”¨èµ„æºçš„è·¯å¾„æ”¹å˜å¯¼è‡´çš„é—®é¢˜ã€‚",-1),N=s("p",null,"é€šå¸¸æƒ…å†µä¸‹ï¼Œwebpack manifest ä¼šåœ¨ç”Ÿäº§æ„å»ºä¸­å¯ç”¨ï¼Œå¹¶å°†å…¶å†™å…¥åˆ°ç£ç›˜çš„ä¸€ä¸ªç‰¹å®šä½ç½®ï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶å¯ä»¥å¿«é€Ÿè®¿é—®ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ webpack manifest å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯é æ€§ã€‚",-1),V=[i,u,h,D,d,y,F,b,k,C,A,m,_,f,g,w,x,j,v,E,I,S,q,T,P,N];function J($,z,G,B,M,R){return e(),p("div",null,V)}const O=l(r,[["render",J]]);export{L as __pageData,O as default};
